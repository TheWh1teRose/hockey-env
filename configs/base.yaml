# Environment settings
environment:
  env_mode: "NORMAL"
  headless: true

# Training settings
training:
  num_envs: 2 
  num_episodes: 1000
  episode_length: 2000
  checkpoint_freq: 50
  add_opponent_freq: 50
  cal_matchmaking_freq: 10  
  device: "cpu"
  exploiter:
    num_envs: 2
    episode_length: 2000

# SAC hyperparameters
sac:
  hidden_dim: 256  # Increased for better capacity (L40S has plenty of VRAM)
  lr: 0.0003  # Slightly reduced for larger batch sizes
  gamma: 0.99
  tau: 0.005  # Slightly reduced for smoother target updates
  alpha: 0.2

# Replay buffer settings
buffer:
  size: 2000000  # Increased buffer for better sample diversity
  batch_size: 1024  # Large batch for better GPU utilization on L40S
  min_size: 10000

# GPU optimization settings (CPU-bound workload - HockeyEnv physics is the bottleneck)
gpu_optimization:
  use_amp: true  # Mixed precision - still helps when GPU is used
  use_compile: false  # Disable - compile overhead not worth it at 4% GPU util
  updates_per_step: 1  # Back to 1 - more updates just slows down CPU-bound loop

# League settings
init_opponents:
  - type: checkpoint
    name: "handcrafted_trained_start_checkpoint_2"
    model_path: "checkpoints/training_20260120_132028/checkpoint_step_850.pt"
  - type: checkpoint
    name: "population_trained_mid_checkpoint"
    model_path: "checkpoints/training_20260125_142957/checkpoint_step_100.pt"
  - type: checkpoint
    name: "weak_start_checkpoint"
    model_path: "checkpoints/training_20260120_132028/checkpoint_step_50.pt"
  - type: checkpoint
    name: "handcrafted_trained_start_checkpoint"
    model_path: "checkpoints/first_success_training/checkpoint_step_2850.pt"
  - type: checkpoint
    name: "population_trained_start_checkpoint"
    model_path: "checkpoints/training_20260120_141112/checkpoint_step_600.pt"
  - type: handcrafted
    name: "basic_strong"
    strength: strong
  - type: handcrafted
    name: "basic_weak"
    strength: weak