# Environment settings
environment:
  env_mode: "NORMAL"
  headless: true

# Training settings
training:
  num_envs: 32  # Increased for 36 CPU cores (leave some for system)
  num_episodes: 1000
  episode_length: 2000
  checkpoint_freq: 50
  add_opponent_freq: 50
  cal_matchmaking_freq: 10
  device: "cuda:0"

# SAC hyperparameters
sac:
  hidden_dim: 256  # Increased for better capacity (L40S has plenty of VRAM)
  lr: 0.0003  # Slightly reduced for larger batch sizes
  gamma: 0.99
  tau: 0.005  # Slightly reduced for smoother target updates
  alpha: 0.2

# Replay buffer settings
buffer:
  size: 2000000  # Increased buffer for better sample diversity
  batch_size: 1024  # Large batch for better GPU utilization on L40S
  min_size: 10000

# GPU optimization settings (L40S optimized)
gpu_optimization:
  use_amp: true  # Mixed precision training (1.5-3x speedup)
  use_compile: true  # torch.compile() JIT optimization (1.2-2x speedup)
  updates_per_step: 4  # Multiple gradient updates per env step

# League settings
init_opponents:
  - type: checkpoint
    name: "weak_start_checkpoint"
    model_path: "checkpoints/training_20260120_132028/checkpoint_step_50.pt"
  - type: checkpoint
    name: "handcrafted_trained_start_checkpoint"
    model_path: "checkpoints/first_success_training/checkpoint_step_2850.pt"
  - type: checkpoint
    name: "handcrafted_trained_start_checkpoint_2"
    model_path: "checkpoints/training_20260120_132028/checkpoint_step_850.pt"
  - type: checkpoint
    name: "population_trained_start_checkpoint"
    model_path: "checkpoints/training_20260120_141112/checkpoint_step_600.pt"
  - type: checkpoint
    name: "population_trained_mid_checkpoint"
    model_path: "checkpoints/training_20260125_142957/checkpoint_step_100.pt"
  - type: handcrafted
    name: "basic_strong"
    strength: strong
  - type: handcrafted
    name: "basic_weak"
    strength: weak